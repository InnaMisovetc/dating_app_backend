# Тестовое задание от компании Apptrix: Backend для сайта знакомств

## Описание

Backend приложение, разработанное с использованием фреймворка Django 4.0.1.
В проекте реализована следующая функциональность:

- регистрация и авторизация пользователей; при регистрации аватарка обрабатывается и на нее накладывается водяной знак.
- пользователь имеет возможность оценить другого участника; в случае взаимной симпатии на почты обоих участников отправляются письма.
- добавлена возможность просматривать список участников с возможностью фильтрации списка по имени, фамилии, полу.
- реализовано определение расстояния между участниками и добавлена возможность фильтрации по дистанции относительно авторизованного пользователя.

Проект залит на хостинг: https://peaceful-citadel-84894.herokuapp.com/api/clients/create

## Реализованные обработчики 

##### 1. Регистрация пользователей POST /api/clients/create

Обработчик принимает на вход имя, фамилию, пол, фотографию, email, координаты местонахождения пользователя и пароль. Все поля являются обязательными. При регистрации фотография обрабатывается и на нее накладывается водяной знак. В случае успеха возвращает HTTP 201 Created.

##### 2. Авторизация пользователей POST /api/clients/token

Принимает на вход email пользователя и пароль. В случае если пользователь зарегистрирован, обработчик вернет токен в формате: 

      HTTP 200 OK
            {
             "refresh": "{token}",
             "access": "{token}"
            }

Далее при отправки запросов необходимо передавать токен в заголовке Authorization: Token <токен>.

##### 3. Оценивание пользователя POST /api/clients/{id}/match

Пользователь имеет возможность оценить другого участника. В случае успеха обработчик возвращает HTTP 200 OK.
В случае взаимной симпатии обработчик возвращает HTTP 200 OK и почты обоих участников отправляются письма с текстом: {name} liked you! Email of the participant {email}!

##### 4. Просмотр списка пользователей GET /api/clients/list

Просмотр списка пользователей с возможностью фильтрации по имени(first_name), фамилии(last_name), полу(gender) и расстоянию до пользователей(distance).

## Запуск проекта локально

##### 1. Установить зависимости для python:

      pip install -r requirements.txt
      
##### 2. Применение миграций:

      python manage.py migrate

##### 3. Запуск проекта:

      python manage.py runserver
      
Проект доступен по ссылке http://127.0.0.1:8000/api/clients/create
